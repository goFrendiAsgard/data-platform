<h1 id="content-title">No content</h1>
<img id="content-media" src="https://c.tenor.com/-jlcuGvl9TUAAAAS/tv-old.gif" />
<p id="content-description"></p>
<div id="button-container" class="container"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<script>
$(document).ready(function() {

    const sessionId=crypto.randomUUID();
    let contents = [];
    let contentId = '';

    $.ajax({
        method: 'GET',
        url: '{{ backend_url }}/api/v1/contents',
        success: function(data) {
            contents = data.rows;
            for(let index = 0; index < contents.length; index++) {
                const content = contents[index];
                const buttonId = `content-button-${index}`;
                console.log(buttonId);
                $("#button-container").append($(`<input id="${buttonId}" class="btn btn-primary" type="button" value="${content.title}"/>`));
                $(`#${buttonId}`).on('click', function() {
                    $('#content-description').html(content.description);
                    $('#content-media').attr('src', content.url);
                    $('#content-title').html(content.title);
                    contentId = content.id;
                });
            }
        },
    });



});
</script>